var e,t,s,i,n=Object.defineProperty,r=(e,t,s)=>(((e,t,s)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s),l=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},o=(e,t,s)=>(((e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)})(e,t,"access private method"),s);import{p as a,l as c,s as h,o as u,m as p,C as d,D as f,E as g,G as m,b as k,H as b,x as y,d as x,I as v,v as w,i as $,F as z,f as _,J as S,B as T,K as R,g as A,n as I,h as O,L as D,M as E,a as P,u as M,e as L,k as V,j as B}from"./index-DiAnCr2u.js";import{_ as C}from"./homeView-6sA4OjKm.js";function j(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let H={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function U(e){H=e}const q=/[&<>"']/,F=new RegExp(q.source,"g"),N=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,W=new RegExp(N.source,"g"),Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q=e=>Z[e];function X(e,t){if(t){if(q.test(e))return e.replace(F,Q)}else if(N.test(e))return e.replace(W,Q);return e}const K=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const Y=/(^|[^\[])\^/g;function G(e,t){let s="string"==typeof e?e:e.source;t=t||"";const i={replace:(e,t)=>{let n="string"==typeof t?t:t.source;return n=n.replace(Y,"$1"),s=s.replace(e,n),i},getRegex:()=>new RegExp(s,t)};return i}function J(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(t){return null}return e}const ee={exec:()=>null};function te(e,t){const s=e.replace(/\|/g,((e,t,s)=>{let i=!1,n=t;for(;--n>=0&&"\\"===s[n];)i=!i;return i?"|":" |"})).split(/ \|/);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),t)if(s.length>t)s.splice(t);else for(;s.length<t;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(/\\\|/g,"|");return s}function se(e,t,s){const i=e.length;if(0===i)return"";let n=0;for(;n<i;){const r=e.charAt(i-n-1);if(r!==t||s){if(r===t||!s)break;n++}else n++}return e.slice(0,i-n)}function ie(e,t,s,i){const n=t.href,r=t.title?X(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:s,href:n,title:r,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,e}return{type:"image",raw:s,href:n,title:r,text:X(l)}}class ne{constructor(e){r(this,"options"),r(this,"rules"),r(this,"lexer"),this.options=e||H}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:se(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],s=function(e,t){const s=e.match(/^(\s+)(?:```)/);if(null===s)return t;const i=s[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[s]=t;return s.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=se(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");e=se(e.replace(/^ *>[ \t]?/gm,""),"\n");const s=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(e);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:i,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let s=t[1].trim();const i=s.length>1,n={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");const r=new RegExp(`^( {0,3}${s})((?:[\t ][^\\n]*)?(?:\\n|$))`);let l="",o="",a=!1;for(;e;){let s=!1;if(!(t=r.exec(e)))break;if(this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let i=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],h=0;this.options.pedantic?(h=2,o=i.trimStart()):(h=t[2].search(/[^ ]/),h=h>4?1:h,o=i.slice(h),h+=t[1].length);let u=!1;if(!i&&/^ *$/.test(c)&&(l+=c+"\n",e=e.substring(c.length+1),s=!0),!s){const t=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),s=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),n=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,h-1)}}#`);for(;e;){const a=e.split("\n",1)[0];if(c=a,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),n.test(c))break;if(r.test(c))break;if(t.test(c))break;if(s.test(e))break;if(c.search(/[^ ]/)>=h||!c.trim())o+="\n"+c.slice(h);else{if(u)break;if(i.search(/[^ ]/)>=4)break;if(n.test(i))break;if(r.test(i))break;if(s.test(i))break;o+="\n"+c}u||c.trim()||(u=!0),l+=a+"\n",e=e.substring(a.length+1),i=c.slice(h)}}n.loose||(a?n.loose=!0:/\n *\n *$/.test(l)&&(a=!0));let p,d=null;this.options.gfm&&(d=/^\[[ xX]\] /.exec(o),d&&(p="[ ] "!==d[0],o=o.replace(/^\[[ xX]\] +/,""))),n.items.push({type:"list_item",raw:l,task:!!d,checked:p,loose:!1,text:o,tokens:[]}),n.raw+=l}n.items[n.items.length-1].raw=l.trimEnd(),n.items[n.items.length-1].text=o.trimEnd(),n.raw=n.raw.trimEnd();for(let e=0;e<n.items.length;e++)if(this.lexer.state.top=!1,n.items[e].tokens=this.lexer.blockTokens(n.items[e].text,[]),!n.loose){const t=n.items[e].tokens.filter((e=>"space"===e.type)),s=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));n.loose=s}if(n.loose)for(let e=0;e<n.items.length;e++)n.items[e].loose=!0;return n}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:s,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const s=te(t[1]),i=t[2].replace(/^\||\| *$/g,"").split("|"),n=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(s.length===i.length){for(const e of i)/^ *-+: *$/.test(e)?r.align.push("right"):/^ *:-+: *$/.test(e)?r.align.push("center"):/^ *:-+ *$/.test(e)?r.align.push("left"):r.align.push(null);for(const e of s)r.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of n)r.rows.push(te(e,r.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:X(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=se(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let s=0;for(let i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])s++;else if(e[i]===t[1]&&(s--,s<0))return i;return-1}(t[2],"()");if(e>-1){const s=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let s=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);e&&(s=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(e)?s.slice(1):s.slice(1,-1)),ie(t,{href:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s,title:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i},t[0],this.lexer)}}reflink(e,t){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const e=t[(s[2]||s[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=s[0].charAt(0);return{type:"text",raw:e,text:e}}return ie(s,e,s[0],this.lexer)}}emStrong(e,t,s=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i)return;if(i[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const s=[...i[0]].length-1;let n,r,l=s,o=0;const a="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+s);null!=(i=a.exec(t));){if(n=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!n)continue;if(r=[...n].length,i[3]||i[4]){l+=r;continue}if((i[5]||i[6])&&s%3&&!((s+r)%3)){o+=r;continue}if(l-=r,l>0)continue;r=Math.min(r,r+l+o);const t=[...i[0]][0].length,a=e.slice(0,s+i.index+t+r);if(Math.min(s,r)%2){const e=a.slice(1,-1);return{type:"em",raw:a,text:e,tokens:this.lexer.inlineTokens(e)}}const c=a.slice(2,-2);return{type:"strong",raw:a,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const s=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return s&&i&&(e=e.substring(1,e.length-1)),e=X(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,s;return"@"===t[2]?(e=X(t[1]),s="mailto:"+e):(e=X(t[1]),s=e),{type:"link",raw:t[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var t;let s;if(s=this.rules.inline.url.exec(e)){let e,i;if("@"===s[2])e=X(s[0]),i="mailto:"+e;else{let n;do{n=s[0],s[0]=(null==(t=this.rules.inline._backpedal.exec(s[0]))?void 0:t[0])??""}while(n!==s[0]);e=X(s[0]),i="www."===s[1]?"http://"+s[0]:s[0]}return{type:"link",raw:s[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:X(t[0]),{type:"text",raw:t[0],text:e}}}}const re=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,le=/(?:[*+-]|\d{1,9}[.)])/,oe=G(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,le).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ae=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ce=/(?!\s*\])(?:\\.|[^\[\]\\])+/,he=G(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ce).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ue=G(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,le).getRegex(),pe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",de=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fe=G("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",de).replace("tag",pe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ge=G(ae).replace("hr",re).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),me={blockquote:G(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ge).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:he,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:re,html:fe,lheading:oe,list:ue,newline:/^(?: *(?:\n|$))+/,paragraph:ge,table:ee,text:/^[^\n]+/},ke=G("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",re).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),be={...me,table:ke,paragraph:G(ae).replace("hr",re).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ke).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex()},ye={...me,html:G("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",de).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ee,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(ae).replace("hr",re).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},xe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ve=/^( {2,}|\\)\n(?!\s*$)/,we="\\p{P}\\p{S}",$e=G(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,we).getRegex(),ze=G(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,we).getRegex(),_e=G("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,we).getRegex(),Se=G("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,we).getRegex(),Te=G(/\\([punct])/,"gu").replace(/punct/g,we).getRegex(),Re=G(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ae=G(de).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ie=G("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ae).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Oe=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,De=G(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Oe).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ee=G(/^!?\[(label)\]\[(ref)\]/).replace("label",Oe).replace("ref",ce).getRegex(),Pe=G(/^!?\[(ref)\](?:\[\])?/).replace("ref",ce).getRegex(),Me={_backpedal:ee,anyPunctuation:Te,autolink:Re,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:ve,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ee,emStrongLDelim:ze,emStrongRDelimAst:_e,emStrongRDelimUnd:Se,escape:xe,link:De,nolink:Pe,punctuation:$e,reflink:Ee,reflinkSearch:G("reflink|nolink(?!\\()","g").replace("reflink",Ee).replace("nolink",Pe).getRegex(),tag:Ie,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ee},Le={...Me,link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",Oe).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Oe).getRegex()},Ve={...Me,escape:G(xe).replace("])","~|])").getRegex(),url:G(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Be={...Ve,br:G(ve).replace("{2,}","*").getRegex(),text:G(Ve.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ce={normal:me,gfm:be,pedantic:ye},je={normal:Me,gfm:Ve,breaks:Be,pedantic:Le};class He{constructor(e){r(this,"tokens"),r(this,"options"),r(this,"state"),r(this,"tokenizer"),r(this,"inlineQueue"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||H,this.options.tokenizer=this.options.tokenizer||new ne,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ce.normal,inline:je.normal};this.options.pedantic?(t.block=Ce.pedantic,t.inline=je.pedantic):this.options.gfm&&(t.block=Ce.gfm,this.options.breaks?t.inline=je.breaks:t.inline=je.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ce,inline:je}}static lex(e,t){return new He(t).lex(e)}static lexInline(e,t){return new He(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let s,i,n,r;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,s)=>t+"    ".repeat(s.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(s=i.call({lexer:this},e,t))&&(e=e.substring(s.raw.length),t.push(s),!0)))))if(s=this.tokenizer.space(e))e=e.substring(s.raw.length),1===s.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(s);else if(s=this.tokenizer.code(e))e=e.substring(s.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(s):(i.raw+="\n"+s.raw,i.text+="\n"+s.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(s=this.tokenizer.fences(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.heading(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.hr(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.blockquote(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.list(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.html(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.def(e))e=e.substring(s.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title}):(i.raw+="\n"+s.raw,i.text+="\n"+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(s=this.tokenizer.table(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.lheading(e))e=e.substring(s.raw.length),t.push(s);else{if(n=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const s=e.slice(1);let i;this.options.extensions.startBlock.forEach((e=>{i=e.call({lexer:this},s),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(this.state.top&&(s=this.tokenizer.paragraph(n)))i=t[t.length-1],r&&"paragraph"===i.type?(i.raw+="\n"+s.raw,i.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(s),r=n.length!==e.length,e=e.substring(s.raw.length);else if(s=this.tokenizer.text(e))e=e.substring(s.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+s.raw,i.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(s);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s,i,n,r,l,o,a=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(a));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(a));)a=a.slice(0,r.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(o=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(s=i.call({lexer:this},e,t))&&(e=e.substring(s.raw.length),t.push(s),!0)))))if(s=this.tokenizer.escape(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.tag(e))e=e.substring(s.raw.length),i=t[t.length-1],i&&"text"===s.type&&"text"===i.type?(i.raw+=s.raw,i.text+=s.text):t.push(s);else if(s=this.tokenizer.link(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(s.raw.length),i=t[t.length-1],i&&"text"===s.type&&"text"===i.type?(i.raw+=s.raw,i.text+=s.text):t.push(s);else if(s=this.tokenizer.emStrong(e,a,o))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.codespan(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.br(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.del(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.autolink(e))e=e.substring(s.raw.length),t.push(s);else if(this.state.inLink||!(s=this.tokenizer.url(e))){if(n=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const s=e.slice(1);let i;this.options.extensions.startInline.forEach((e=>{i=e.call({lexer:this},s),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(n=e.substring(0,t+1))}if(s=this.tokenizer.inlineText(n))e=e.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(o=s.raw.slice(-1)),l=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=s.raw,i.text+=s.text):t.push(s);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}else e=e.substring(s.raw.length),t.push(s);return t}}class Ue{constructor(e){r(this,"options"),this.options=e||H}code(e,t,s){var i;const n=null==(i=(t||"").match(/^\S*/))?void 0:i[0];return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="language-'+X(n)+'">'+(s?e:X(e,!0))+"</code></pre>\n":"<pre><code>"+(s?e:X(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,s){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,s){const i=t?"ol":"ul";return"<"+i+(t&&1!==s?' start="'+s+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e,t,s){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const s=t.header?"th":"td";return(t.align?`<${s} align="${t.align}">`:`<${s}>`)+e+`</${s}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,s){const i=J(e);if(null===i)return s;let n='<a href="'+(e=i)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+s+"</a>",n}image(e,t,s){const i=J(e);if(null===i)return s;let n=`<img src="${e=i}" alt="${s}"`;return t&&(n+=` title="${t}"`),n+=">",n}text(e){return e}}class qe{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,s){return""+s}image(e,t,s){return""+s}br(){return""}}class Fe{constructor(e){r(this,"options"),r(this,"renderer"),r(this,"textRenderer"),this.options=e||H,this.options.renderer=this.options.renderer||new Ue,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qe}static parse(e,t){return new Fe(t).parse(e)}static parseInline(e,t){return new Fe(t).parseInline(e)}parse(e,t=!0){let s="";for(let i=0;i<e.length;i++){const n=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const e=n,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){s+=t||"";continue}}switch(n.type){case"space":continue;case"hr":s+=this.renderer.hr();continue;case"heading":{const e=n;s+=this.renderer.heading(this.parseInline(e.tokens),e.depth,this.parseInline(e.tokens,this.textRenderer).replace(K,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")));continue}case"code":{const e=n;s+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=n;let t="",i="";for(let s=0;s<e.header.length;s++)i+=this.renderer.tablecell(this.parseInline(e.header[s].tokens),{header:!0,align:e.align[s]});t+=this.renderer.tablerow(i);let r="";for(let s=0;s<e.rows.length;s++){const t=e.rows[s];i="";for(let s=0;s<t.length;s++)i+=this.renderer.tablecell(this.parseInline(t[s].tokens),{header:!1,align:e.align[s]});r+=this.renderer.tablerow(i)}s+=this.renderer.table(t,r);continue}case"blockquote":{const e=n,t=this.parse(e.tokens);s+=this.renderer.blockquote(t);continue}case"list":{const e=n,t=e.ordered,i=e.start,r=e.loose;let l="";for(let s=0;s<e.items.length;s++){const t=e.items[s],i=t.checked,n=t.task;let o="";if(t.task){const e=this.renderer.checkbox(!!i);r?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=e+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=e+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",text:e+" "}):o+=e+" "}o+=this.parse(t.tokens,r),l+=this.renderer.listitem(o,n,!!i)}s+=this.renderer.list(l,t,i);continue}case"html":{const e=n;s+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=n;s+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let r=n,l=r.tokens?this.parseInline(r.tokens):r.text;for(;i+1<e.length&&"text"===e[i+1].type;)r=e[++i],l+="\n"+(r.tokens?this.parseInline(r.tokens):r.text);s+=t?this.renderer.paragraph(l):l;continue}default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return s}parseInline(e,t){t=t||this.renderer;let s="";for(let i=0;i<e.length;i++){const n=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){const e=this.options.extensions.renderers[n.type].call({parser:this},n);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){s+=e||"";continue}}switch(n.type){case"escape":{const e=n;s+=t.text(e.text);break}case"html":{const e=n;s+=t.html(e.text);break}case"link":{const e=n;s+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=n;s+=t.image(e.href,e.title,e.text);break}case"strong":{const e=n;s+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=n;s+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=n;s+=t.codespan(e.text);break}case"br":s+=t.br();break;case"del":{const e=n;s+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=n;s+=t.text(e.text);break}default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return s}}class Ne{constructor(e){r(this,"options"),this.options=e||H}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}r(Ne,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class We{constructor(...i){l(this,e),l(this,s),r(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),r(this,"options",this.setOptions),r(this,"parse",o(this,e,t).call(this,He.lex,Fe.parse)),r(this,"parseInline",o(this,e,t).call(this,He.lexInline,Fe.parseInline)),r(this,"Parser",Fe),r(this,"Renderer",Ue),r(this,"TextRenderer",qe),r(this,"Lexer",He),r(this,"Tokenizer",ne),r(this,"Hooks",Ne),this.use(...i)}walkTokens(e,t){var s,i;let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const s of e.header)n=n.concat(this.walkTokens(s.tokens,t));for(const s of e.rows)for(const e of s)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;(null==(i=null==(s=this.defaults.extensions)?void 0:s.childTokens)?void 0:i[e.type])?this.defaults.extensions.childTokens[e.type].forEach((s=>{const i=e[s].flat(1/0);n=n.concat(this.walkTokens(i,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const s={...e};if(s.async=this.defaults.async||s.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const s=t.renderers[e.name];t.renderers[e.name]=s?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=s.apply(this,t)),i}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const s=t[e.level];s?s.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),s.extensions=t),e.renderer){const t=this.defaults.renderer||new Ue(this.defaults);for(const s in e.renderer){if(!(s in t))throw new Error(`renderer '${s}' does not exist`);if("options"===s)continue;const i=s,n=e.renderer[i],r=t[i];t[i]=(...e)=>{let s=n.apply(t,e);return!1===s&&(s=r.apply(t,e)),s||""}}s.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new ne(this.defaults);for(const s in e.tokenizer){if(!(s in t))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const i=s,n=e.tokenizer[i],r=t[i];t[i]=(...e)=>{let s=n.apply(t,e);return!1===s&&(s=r.apply(t,e)),s}}s.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new Ne;for(const s in e.hooks){if(!(s in t))throw new Error(`hook '${s}' does not exist`);if("options"===s)continue;const i=s,n=e.hooks[i],r=t[i];Ne.passThroughHooks.has(s)?t[i]=e=>{if(this.defaults.async)return Promise.resolve(n.call(t,e)).then((e=>r.call(t,e)));const s=n.call(t,e);return r.call(t,s)}:t[i]=(...e)=>{let s=n.apply(t,e);return!1===s&&(s=r.apply(t,e)),s}}s.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,i=e.walkTokens;s.walkTokens=function(e){let s=[];return s.push(i.call(this,e)),t&&(s=s.concat(t.call(this,e))),s}}this.defaults={...this.defaults,...s}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return He.lex(e,t??this.defaults)}parser(e,t){return Fe.parse(e,t??this.defaults)}}e=new WeakSet,t=function(e,t){return(n,r)=>{const l={...r},a={...this.defaults,...l};!0===this.defaults.async&&!1===l.async&&(a.silent,a.async=!0);const c=o(this,s,i).call(this,!!a.silent,!!a.async);if(null==n)return c(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then((t=>e(t,a))).then((e=>a.hooks?a.hooks.processAllTokens(e):e)).then((e=>a.walkTokens?Promise.all(this.walkTokens(e,a.walkTokens)).then((()=>e)):e)).then((e=>t(e,a))).then((e=>a.hooks?a.hooks.postprocess(e):e)).catch(c);try{a.hooks&&(n=a.hooks.preprocess(n));let s=e(n,a);a.hooks&&(s=a.hooks.processAllTokens(s)),a.walkTokens&&this.walkTokens(s,a.walkTokens);let i=t(s,a);return a.hooks&&(i=a.hooks.postprocess(i)),i}catch(h){return c(h)}}},s=new WeakSet,i=function(e,t){return s=>{if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+X(s.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(s);throw s}};const Ze=new We;function Qe(e,t){return Ze.parse(e,t)}function Xe(e){return(e||"").match(/\S*/)[0]}function Ke(e){return t=>{"string"==typeof t&&t!==e.text&&(e.escaped=!0,e.text=t)}}Qe.options=Qe.setOptions=function(e){return Ze.setOptions(e),Qe.defaults=Ze.defaults,U(Qe.defaults),Qe},Qe.getDefaults=j,Qe.defaults=H,Qe.use=function(...e){return Ze.use(...e),Qe.defaults=Ze.defaults,U(Qe.defaults),Qe},Qe.walkTokens=function(e,t){return Ze.walkTokens(e,t)},Qe.parseInline=Ze.parseInline,Qe.Parser=Fe,Qe.parser=Fe.parse,Qe.Renderer=Ue,Qe.TextRenderer=qe,Qe.Lexer=He,Qe.lexer=He.lex,Qe.Tokenizer=ne,Qe.Hooks=Ne,Qe.parse=Qe,Qe.options,Qe.setOptions,Qe.use,Qe.walkTokens,Qe.parseInline,Fe.parse,He.lex;const Ye=/[&<>"']/,Ge=new RegExp(Ye.source,"g"),Je=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,et=new RegExp(Je.source,"g"),tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},st=e=>tt[e];function it(e,t){if(t){if(Ye.test(e))return e.replace(Ge,st)}else if(Je.test(e))return e.replace(et,st);return e}let nt;function rt(){rt.init||(rt.init=!0,nt=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}())}var lt={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){rt(),h((()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()}));const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",nt&&this.$el.appendChild(e),e.data="about:blank",nt||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!nt&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const ot=d();a("data-v-b329ee4c");const at={class:"resize-observer",tabindex:"-1"};c();const ct=ot(((e,t,s,i,n,r)=>(u(),p("div",at))));function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t,s){return t&&function(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}function pt(e){return function(e){if(Array.isArray(e))return dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function ft(e,t){if(e===t)return!0;if("object"===ht(e)){for(var s in e)if(!ft(e[s],t[s]))return!1;return!0}return!1}lt.render=ct,lt.__scopeId="data-v-b329ee4c",lt.__file="src/components/ResizeObserver.vue";var gt=function(){function e(t,s,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(s,i)}return ut(e,[{key:"createObserver",value:function(e,t){var s=this;if(this.observer&&this.destroyObserver(),!this.frozen){var i;if(this.options="function"==typeof(i=e)?{callback:i}:i,this.callback=function(e,t){s.options.callback(e,t),e&&s.options.once&&(s.frozen=!0,s.destroyObserver())},this.callback&&this.options.throttle){var n=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var s,i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=function(l){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];if(n=a,!s||l!==i){var h=r.leading;"function"==typeof h&&(h=h(l,i)),s&&l===i||!h||e.apply(void 0,[l].concat(pt(n))),i=l,clearTimeout(s),s=setTimeout((function(){e.apply(void 0,[l].concat(pt(n))),s=0}),t)}};return l._clear=function(){clearTimeout(s),s=null},l}(this.callback,this.options.throttle,{leading:function(e){return"both"===n||"visible"===n&&e||"hidden"===n&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var i=e.find((function(e){return e.isIntersecting}));i&&(t=i)}if(s.callback){var n=t.isIntersecting&&t.intersectionRatio>=s.threshold;if(n===s.oldResult)return;s.oldResult=n,s.callback(n,t)}}),this.options.intersection),h((function(){s.observer&&s.observer.observe(s.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}]),e}();function mt(e,t,s){var i=t.value;if(i)if("undefined"==typeof IntersectionObserver);else{var n=new gt(e,i,s);e._vue_visibilityState=n}}function kt(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var bt={beforeMount:mt,updated:function(e,t,s){var i=t.value;if(!ft(i,t.oldValue)){var n=e._vue_visibilityState;i?n?n.createObserver(i,s):mt(e,{value:i},s):kt(e)}},unmounted:kt};var yt=1e3,xt=/(auto|scroll)/;function vt(e,t){return null===e.parentNode?t:vt(e.parentNode,t.concat([e]))}var wt=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},$t=function(e){return xt.test(function(e){return wt(e,"overflow")+wt(e,"overflow-y")+wt(e,"overflow-x")}(e))};function zt(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=vt(e.parentNode,[]),s=0;s<t.length;s+=1)if($t(t[s]))return t[s];return document.scrollingElement||document.documentElement}}function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var St={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function Tt(){return this.items.length&&"object"!==_t(this.items[0])}var Rt=!1;if("undefined"!=typeof window){Rt=!1;try{var At=Object.defineProperty({},"passive",{get:function(){Rt=!0}});window.addEventListener("test",null,At)}catch(Jt){}}let It=0;var Ot={name:"RecycleScroller",components:{ResizeObserver:lt},directives:{ObserveVisibility:bt},props:{...St,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,s=this.sizeField,i=this.minItemSize;let n,r=1e4,l=0;for(let o=0,a=t.length;o<a;o++)n=t[o][s]||i,n<r&&(r=n),l+=n,e[o]={accumulator:l,size:n};return this.$_computedMinItemSize=r,e}return[]},simpleArray:Tt,itemIndexByKey(){const{keyField:e,items:t}=this,s={};for(let i=0,n=t.length;i<n;i++)s[t[i][e]]=i;return s}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&this.itemSize},mounted(){this.applyPageMode(),this.$nextTick((()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0}))},activated(){const e=this.$_lastUpdateScrollPosition;"number"==typeof e&&this.$nextTick((()=>{this.scrollToPosition(e)}))},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,s,i,n){const r=g({id:It++,index:t,used:!0,key:i,type:n}),l=m({item:s,position:0,nr:r});return e.push(l),l},unuseView(e,t=!1){const s=this.$_unusedViews,i=e.nr.type;let n=s.get(i);n||(n=[],s.set(i,n)),n.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const e=()=>requestAnimationFrame((()=>{this.$_scrollDirty=!1;const{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))}));e(),this.updateInterval&&(this.$_updateTimeout=setTimeout((()=>{this.$_updateTimeout=0,this.$_scrollDirty&&e()}),this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((()=>{this.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const s=this.itemSize,i=this.gridItems||1,n=this.itemSecondarySize||s,r=this.$_computedMinItemSize,l=this.typeField,o=this.simpleArray?null:this.keyField,a=this.items,c=a.length,h=this.sizes,u=this.$_views,p=this.$_unusedViews,d=this.pool,f=this.itemIndexByKey;let g,m,k,b,y,x;if(c)if(this.$_prerender)g=b=0,m=y=Math.min(this.prerender,a.length),k=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===s&&t<r||t<s)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const n=this.buffer;e.start-=n,e.end+=n;let l=0;if(this.$refs.before&&(l=this.$refs.before.scrollHeight,e.start-=l),this.$refs.after){const t=this.$refs.after.scrollHeight;e.end+=t}if(null===s){let t,s,i=0,n=c-1,r=~~(c/2);do{s=r,t=h[r].accumulator,t<e.start?i=r:r<c-1&&h[r+1].accumulator>e.start&&(n=r),r=~~((i+n)/2)}while(r!==s);for(r<0&&(r=0),g=r,k=h[c-1].accumulator,m=r;m<c&&h[m].accumulator<e.end;m++);for(-1===m?m=a.length-1:(m++,m>c&&(m=c)),b=g;b<c&&l+h[b].accumulator<e.start;b++);for(y=b;y<c&&l+h[y].accumulator<e.end;y++);}else{g=~~(e.start/s*i);g-=g%i,m=Math.ceil(e.end/s*i),b=Math.max(0,Math.floor((e.start-l)/s*i)),y=Math.floor((e.end-l)/s*i),g<0&&(g=0),m>c&&(m=c),b<0&&(b=0),y>c&&(y=c),k=Math.ceil(c/i)*s}}else g=m=b=y=k=0;m-g>yt&&this.itemsLimitError(),this.totalSize=k;const v=g<=this.$_endIndex&&m>=this.$_startIndex;if(v)for(let S=0,T=d.length;S<T;S++)x=d[S],x.nr.used&&(e&&(x.nr.index=f[x.item[o]]),(null==x.nr.index||x.nr.index<g||x.nr.index>=m)&&this.unuseView(x));const w=v?null:new Map;let $,z,_;for(let S=g;S<m;S++){$=a[S];const e=o?$[o]:$;if(null==e)throw new Error(`Key is ${e} on item (keyField is '${o}')`);if(x=u.get(e),!s&&!h[S].size){x&&this.unuseView(x);continue}z=$[l];let t=p.get(z),r=!1;if(x){if(!x.nr.used&&(x.nr.used=!0,r=!0,t)){const e=t.indexOf(x);-1!==e&&t.splice(e,1)}}else v?x=t&&t.length?t.pop():this.addView(d,S,$,e,z):(_=w.get(z)||0,(!t||_>=t.length)&&(x=this.addView(d,S,$,e,z),this.unuseView(x,!0),t=p.get(z)),x=t[_],w.set(z,_+1)),u.delete(x.nr.key),x.nr.used=!0,x.nr.index=S,x.nr.key=e,x.nr.type=z,u.set(e,x),r=!0;x.item=$,r&&(S===a.length-1&&this.$emit("scroll-end"),0===S&&this.$emit("scroll-start")),null===s?(x.position=h[S-1].accumulator,x.offset=0):(x.position=Math.floor(S/i)*s,x.offset=S%i*n)}return this.$_startIndex=g,this.$_endIndex=m,this.emitUpdate&&this.$emit("update",g,m,b,y),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:v}},getListenerTarget(){let e=zt(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,s="vertical"===t;let i;if(this.pageMode){const t=e.getBoundingClientRect(),n=s?t.height:t.width;let r=-(s?t.top:t.left),l=s?window.innerHeight:window.innerWidth;r<0&&(l+=r,r=0),r+l>n&&(l=n-r),i={start:r,end:r+l}}else i=s?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return i},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!Rt&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const s=this.gridItems||1;t=null===this.itemSize?e>0?this.sizes[e-1].accumulator:0:Math.floor(e/s)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let s,i,n;if(this.pageMode){const r=zt(this.$el),l="HTML"===r.tagName?0:r[t.scroll],o=r.getBoundingClientRect(),a=this.$el.getBoundingClientRect()[t.start]-o[t.start];s=r,i=t.scroll,n=e+l+a}else s=this.$el,i=t.scroll,n=e;s[i]=n},itemsLimitError(){throw setTimeout((()=>{})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort(((e,t)=>e.nr.index-t.nr.index))}}};const Dt={key:0,ref:"before",class:"vue-recycle-scroller__slot"},Et={key:1,ref:"after",class:"vue-recycle-scroller__slot"};Ot.render=function(e,t,s,i,n,r){const l=k("ResizeObserver"),o=b("observe-visibility");return y((u(),x("div",{class:I(["vue-recycle-scroller",{ready:n.ready,"page-mode":s.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...e)=>r.handleScroll&&r.handleScroll(...e))},[e.$slots.before?(u(),x("div",Dt,[v(e.$slots,"before")],512)):w("v-if",!0),(u(),p(S(s.listTag),{ref:"wrapper",style:A({["vertical"===e.direction?"minHeight":"minWidth"]:n.totalSize+"px"}),class:I(["vue-recycle-scroller__item-wrapper",s.listClass])},{default:$((()=>[(u(!0),x(z,null,_(n.pool,(t=>(u(),p(S(s.itemTag),T({key:t.nr.id,style:n.ready?{transform:`translate${"vertical"===e.direction?"Y":"X"}(${t.position}px) translate${"vertical"===e.direction?"X":"Y"}(${t.offset}px)`,width:s.gridItems?`${"vertical"===e.direction&&s.itemSecondarySize||s.itemSize}px`:void 0,height:s.gridItems?`${"horizontal"===e.direction&&s.itemSecondarySize||s.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[s.itemClass,{hover:!s.skipHover&&n.hoverKey===t.nr.key}]]},R(s.skipHover?{}:{mouseenter:()=>{n.hoverKey=t.nr.key},mouseleave:()=>{n.hoverKey=null}})),{default:$((()=>[v(e.$slots,"default",{item:t.item,index:t.nr.index,active:t.nr.used})])),_:2},1040,["style","class"])))),128)),v(e.$slots,"empty")])),_:3},8,["style","class"])),e.$slots.after?(u(),x("div",Et,[v(e.$slots,"after")],512)):w("v-if",!0),O(l,{onNotify:r.handleResize},null,8,["onNotify"])],34)),[[o,r.handleVisibilityChange]])},Ot.__file="src/components/RecycleScroller.vue";var Pt={name:"DynamicScroller",components:{RecycleScroller:Ot},provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((e=>{requestAnimationFrame((()=>{if(Array.isArray(e))for(const t of e)if(t.target&&t.target.$_vs_onResize){let e,s;if(t.borderBoxSize){const i=t.borderBoxSize[0];e=i.inlineSize,s=i.blockSize}else e=t.contentRect.width,s=t.contentRect.height;t.target.$_vs_onResize(t.target.$_vs_id,e,s)}}))}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...St,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:Tt,itemsWithSize(){const e=[],{items:t,keyField:s,simpleArray:i}=this,n=this.vscrollData.sizes,r=t.length;for(let l=0;l<r;l++){const r=t[l],o=i?l:r[s];let a=n[o];void 0!==a||this.$_undefinedMap[o]||(a=0),e.push({item:r,id:o,size:a})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){const s=this.$el.scrollTop;let i=0,n=0;const r=Math.min(e.length,t.length);for(let o=0;o<r&&!(i>=s);o++)i+=t[o].size||this.minItemSize,n+=e[o].size||this.minItemSize;const l=n-i;0!==l&&(this.$el.scrollTop+=l)}},beforeCreate(){var e;this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events={all:e=e||new Map,on:function(t,s){var i=e.get(t);i&&i.push(s)||e.set(t,[s])},off:function(t,s){var i=e.get(t);i&&i.splice(i.indexOf(s)>>>0,1)},emit:function(t,s){(e.get(t)||[]).slice().map((function(e){e(s)})),(e.get("*")||[]).slice().map((function(e){e(t,s)}))}}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t=void 0){const s=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[s]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick((()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(t)}))};requestAnimationFrame(t)}))}}};Pt.render=function(e,t,s,i,n,r){const l=k("RecycleScroller");return u(),p(l,T({ref:"scroller",items:r.itemsWithSize,"min-item-size":s.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:r.onScrollerResize,onVisible:r.onScrollerVisible}),{default:$((({item:t,index:s,active:i})=>[v(e.$slots,"default",D(E({item:t.item,index:s,active:i,itemWithSize:t})))])),before:$((()=>[v(e.$slots,"before")])),after:$((()=>[v(e.$slots,"after")])),empty:$((()=>[v(e.$slots,"empty")])),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])},Pt.__file="src/components/DynamicScroller.vue";var Mt={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,t){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){const s=this.vscrollData.sizes[t],i=this.vscrollData.sizes[e];null!=s&&s!==i&&this.applySize(s)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch((()=>this.sizeDependencies[e]),this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",(()=>{this.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick((()=>{if(this.id===e){const e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applyWidthHeight(e,t)}this.$_pendingSizeUpdate=null}))},applyWidthHeight(e,t){const s=~~("vertical"===this.vscrollParent.direction?t:e);s&&this.size!==s&&this.applySize(s)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0))},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,t,s){this.id===e&&this.applyWidthHeight(t,s)}},render(){return f(this.tag,this.$slots.default())},__file:"src/components/DynamicScrollerItem.vue"};let Lt=null;const Vt={};let Bt=null,Ct=null;const jt=()=>{Bt&&Bt instanceof Audio!=!1||(Bt=new Audio,Bt.onended=Bt.onerror=()=>{}),Bt.src=URL.createObjectURL(Ct),Bt.play()},Ht=document.createElement("textarea"),Ut=(e,t,s,i,n,r,l,o,a,c)=>{const h="+"+(100*r-100)+"%",u="+"+(l-1)+"Hz";var p;return p=c,Ht.textContent=p,`X-RequestId:${t}\r\nContent-Type:application/ssml+xml\r\nX-Timestamp:${e}Z\r\nPath:ssml\r\n\r\n<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='https://www.w3.org/2001/mstts' xml:lang='${s}'><voice name='${i}'><prosody pitch='${u}' rate='${h}' volume='+0%'>${c=Ht.innerHTML}</prosody></voice></speak>`},qt="Microsoft Server Speech Text to Speech Voice (zh-CN, XiaoxiaoNeural)",Ft="zh-CN";function Nt(e="",t){new Promise(((e,t)=>{if(Lt&&!(Lt.readyState>1))return e();Lt=new WebSocket("wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1?trustedclienttoken=6A5AA1D4EAFF4E9FB37E23D68491D6F4"),Lt.binaryType="arraybuffer",Lt.onopen=()=>{e()},Lt.onmessage=e=>{if(e.data instanceof ArrayBuffer){const t=(new TextDecoder).decode(e.data.slice(0,130)),s=t.indexOf(":"),i=t.slice(s+1,s+33);Vt[i].blob.push(e.data.slice(130))}else if(-1!==e.data.indexOf("Path:turn.end")){const t=e.data.indexOf(":"),s=e.data.slice(t+1,t+33),i=new Blob(Vt[s].blob,{type:"audio/mpeg"});Ct=i,jt()}},Lt.onerror=e=>{t(Error(e))}})).then((()=>{const t=(new Date).toString(),s=(e=>`X-Timestamp:${e}\r\nContent-Type:application/json; charset=utf-8\r\nPath:speech.config\r\n\r\n{"context":{"synthesis":{"audio":{"metadataoptions":{"sentenceBoundaryEnabled":"false","wordBoundaryEnabled":"true"},"outputFormat":"audio-24khz-48kbitrate-mono-mp3"}}}}`)(t),i="10000000100040008000100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),n=Ut(t,i,Ft,qt,0,1,1,0,0,e),r=e+qt+1+1+1+"";Vt[i]={},Vt[i].name=e,Vt[i].key=r,Vt[i].isTest=!0,Vt[i].blob=[],Lt.send(s),Lt.send(n)})).catch(t)}const Wt=e=>(a("data-v-91155b86"),e=e(),c(),e),Zt={style:{width:"100%",height:"100%",position:"relative"}},Qt=["innerHTML"],Xt=["onClick"],Kt={key:0,class:"empty-content"},Yt=[Wt((()=>L("div",{class:"iconfont icon-empty",style:{"font-size":"70px","margin-bottom":"15px"}},null,-1))),Wt((()=>L("div",null,"没有内容",-1)))],Gt=C({__name:"home-msgList",props:{messageList:{type:Array,default:()=>[]},contentWidth:{type:String,default:"70%"},paddingBottom:{type:String,default:"150px"}},setup(e,{expose:t}){const s=new We(function(e){if("function"==typeof e&&(e={highlight:e}),!e||"function"!=typeof e.highlight)throw new Error("Must provide highlight function");return"string"!=typeof e.langPrefix&&(e.langPrefix="language-"),{async:!!e.async,walkTokens(t){if("code"!==t.type)return;const s=Xe(t.lang);if(e.async)return Promise.resolve(e.highlight(t.text,s,t.lang||"")).then(Ke(t));const i=e.highlight(t.text,s,t.lang||"");if(i instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");Ke(t)(i)},renderer:{code(t,s,i){const n=Xe(s),r=n?` class="${e.langPrefix}${it(n)}"`:"";return t=t.replace(/\n$/,""),`<pre><code${r}>${i?t:it(t,!0)}\n</code></pre>`}}}}({langPrefix:"hljs language-",highlight(e,t){const s=hljs.getLanguage(t)?t:"plaintext";return hljs.highlight(e,{language:s}).value}})),i=P();return t({scrollToBottom:()=>i.value.scrollToBottom()}),(t,n)=>{const r=k("v-tooltip");return u(),x("div",Zt,[O(M(Pt),{ref_key:"DynamicScrollerRef",ref:i,items:e.messageList,"min-item-size":70,class:"list",style:A({paddingBottom:e.paddingBottom})},{default:$((({item:t,index:i,active:n})=>[O(M(Mt),{item:t,active:n,"size-dependencies":[t.id],"data-index":i},{default:$((()=>[L("div",{class:I(["item","user"===t.role?"":"assistant"])},[L("div",{class:"text",style:A({width:e.contentWidth})},[L("div",{innerHTML:M(s).parse(t.content||"思考中...")},null,8,Qt),L("div",{class:"iconfont icon-laba-xianxing",onClick:V((e=>M(Nt)(t.content)),["stop"])},[O(r,{activator:"parent",location:"bottom"},{default:$((()=>[B("播放声音")])),_:1})],8,Xt)],4)],2)])),_:2},1032,["item","active","size-dependencies","data-index"])])),_:1},8,["items","style"]),e.messageList.length?w("",!0):(u(),x("div",Kt,Yt))])}}},[["__scopeId","data-v-91155b86"]]);export{Gt as default};
